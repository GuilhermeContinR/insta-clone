[{"/Users/ddtotal/Documents/GitHub/insta/src/index.js":"1","/Users/ddtotal/Documents/GitHub/insta/src/pages/Post/index.js":"2","/Users/ddtotal/Documents/GitHub/insta/src/pages/Home/index.js":"3","/Users/ddtotal/Documents/GitHub/insta/src/services/firebase.js":"4","/Users/ddtotal/Documents/GitHub/insta/src/services/imageUpload.js":"5"},{"size":229,"mtime":1612196148230,"results":"6","hashOfConfig":"7"},{"size":2793,"mtime":1613055553875,"results":"8","hashOfConfig":"7"},{"size":8030,"mtime":1613053364375,"results":"9","hashOfConfig":"7"},{"size":637,"mtime":1612988778689,"results":"10","hashOfConfig":"7"},{"size":2976,"mtime":1613044395136,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"16mh2vg",{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"14"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"/Users/ddtotal/Documents/GitHub/insta/src/index.js",[],["24","25"],"/Users/ddtotal/Documents/GitHub/insta/src/pages/Post/index.js",["26"],"import React, {useEffect, useState} from 'react';\nimport './styles.css'\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from '../../services/firebase';\nimport firebase from 'firebase';\nfunction Post({ postId,user,username, caption,imageUrl,userComment, text}) {\n\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState('');\n    useEffect( () => {\n        console.log(user)\n        let unsubscribe;\n\n        if(postId){\n        \n        unsubscribe = db\n            .collection(\"post\")\n            .doc(postId)\n            .collection(\"comments\")\n            .orderBy('timestamp','desc')\n            .onSnapshot( (snapshot) => {\n                setComments(snapshot.docs.map( (doc) => doc.data()))\n            })\n        }\n\n        return () => {\n            unsubscribe();\n        }\n    },[postId])\n\n    const postComment = (e) => {\n        e.preventDefault();\n        db.collection(\"post\").doc(postId).collection(\"comments\").add({\n            text:comment,\n            username: user.displayName,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        setComment('')\n    }\n\n    return (\n        <div className=\"post\">\n\n            <div className=\"post__header\">\n                <Avatar\n                    className=\"post__avatar\"\n                    alt='User'\n                    src=\"/static/images/avatar/1.jpg\"\n                />\n                <h3>{username}</h3>\n            </div>\n            <img\n                src={imageUrl}\n                className=\"post__image\"\n                alt=\"\"\n            ></img>\n            <h4 className=\"post__text\"> <strong>{username}</strong> {caption}</h4>\n            <div className=\"post__bottom\">\n                         {\n                comments.map( (value,index) => {\n                    return(\n                        <p key={index} >\n                            <strong className=\"post__comments\">{value.username}</strong> {value.text}\n                        </p>\n                    )\n                })\n            }\n            </div>  \n            {\n                user && ( <form className=\"post__commentBox\">\n                    <input\n                        className=\"post__input\"\n                        type=\"text\"\n                        placeholder=\"Adicionar ComentÃ¡rios...\"\n                        value={comment}\n                        onChange={e => setComment(e.target.value)}\n                    />\n                    <button className=\"post_button\" onClick={postComment}\n                        type=\"submit\" disabled={!comment}\n                    >\n                        Enviar\n                </button>\n                </form>\n               \n                )}\n           \n        </div>\n    )\n\n}\n\nexport default Post","/Users/ddtotal/Documents/GitHub/insta/src/pages/Home/index.js",[],"/Users/ddtotal/Documents/GitHub/insta/src/services/firebase.js",[],"/Users/ddtotal/Documents/GitHub/insta/src/services/imageUpload.js",[],{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":29,"column":7,"nodeType":"33","endLine":29,"endColumn":15,"suggestions":"34"},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.","ArrayExpression",["37"],"no-global-assign","no-unsafe-negation",{"desc":"38","fix":"39"},"Update the dependencies array to be: [postId, user]",{"range":"40","text":"41"},[839,847],"[postId, user]"]